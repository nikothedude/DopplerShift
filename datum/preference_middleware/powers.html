<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/preference_middleware/powers - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/preference_middleware/powers.html#proc">Proc Details</a></header><main><h1>powers <aside>/<a href="datum.html">datum</a>/<a href="datum/preference_middleware.html">preference_middleware</a>/<a href="datum/preference_middleware/powers.html">powers</a></aside> <a href="https://github.com/nikothedude/DopplerShift/blob/7beb23ee62b8ba67b65a0387e4f92f89e52e9d4a/modular_doppler/modular_powers/preferences/powers_middleware.dm#L1"><img src="git.png" width="16" height="16" title="modular_doppler/modular_powers/preferences/powers_middleware.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/preference_middleware/powers.html#proc/advanced_check">advanced_check</a></th><td>Advanced Power Check</td></tr><tr><th><a href="datum/preference_middleware/powers.html#proc/blacklist_check">blacklist_check</a></th><td>Blacklist Check</td></tr><tr><th><a href="datum/preference_middleware/powers.html#proc/give_power">give_power</a></th><td>Gives a power to a character using the params list provided by tgui. Runs through multiple checks to ensure that the power can be learned, see respective procs for their description</td></tr><tr><th><a href="datum/preference_middleware/powers.html#proc/point_check">point_check</a></th><td>Point Check</td></tr><tr><th><a href="datum/preference_middleware/powers.html#proc/remove_power">remove_power</a></th><td>Remove Power</td></tr><tr><th><a href="datum/preference_middleware/powers.html#proc/required_check">required_check</a></th><td>Required Powers Check</td></tr><tr><th><a href="datum/preference_middleware/powers.html#proc/root_check">root_check</a></th><td>Root Check</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/advanced_check"><aside class="declaration">proc </aside>advanced_check<aside>(/<a href="datum.html">datum</a>/<a href="datum/power.html">power</a>/power_check)  <a href="https://github.com/nikothedude/DopplerShift/blob/7beb23ee62b8ba67b65a0387e4f92f89e52e9d4a/modular_doppler/modular_powers/preferences/powers_middleware.dm#L190"><img src="git.png" width="16" height="16" title="modular_doppler/modular_powers/preferences/powers_middleware.dm 190"></a></aside></h3><p>Advanced Power Check</p>
<p>Gathers the advanced power's path, as well as the paths of all learned powers. If the list is longer than one, that means the user has cross-pathed, in which case the proc returns TRUE and the check fails. Otherwise, returns false and fails.</p><h3 id="proc/blacklist_check"><aside class="declaration">proc </aside>blacklist_check<aside>(/<a href="datum.html">datum</a>/<a href="datum/power.html">power</a>/power_check, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/nikothedude/DopplerShift/blob/7beb23ee62b8ba67b65a0387e4f92f89e52e9d4a/modular_doppler/modular_powers/preferences/powers_middleware.dm#L244"><img src="git.png" width="16" height="16" title="modular_doppler/modular_powers/preferences/powers_middleware.dm 244"></a></aside></h3><p>Blacklist Check</p>
<p>Checks if any of the user's learned powers are in a specific power's blacklist.</p><h3 id="proc/give_power"><aside class="declaration">proc </aside>give_power<aside>(/list/params, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/nikothedude/DopplerShift/blob/7beb23ee62b8ba67b65a0387e4f92f89e52e9d4a/modular_doppler/modular_powers/preferences/powers_middleware.dm#L121"><img src="git.png" width="16" height="16" title="modular_doppler/modular_powers/preferences/powers_middleware.dm 121"></a></aside></h3><p>Gives a power to a character using the params list provided by tgui. Runs through multiple checks to ensure that the power can be learned, see respective procs for their description</p>
<p>Always returns TRUE, ensuring the UI stays updated.</p><h3 id="proc/point_check"><aside class="declaration">proc </aside>point_check<aside>()  <a href="https://github.com/nikothedude/DopplerShift/blob/7beb23ee62b8ba67b65a0387e4f92f89e52e9d4a/modular_doppler/modular_powers/preferences/powers_middleware.dm#L229"><img src="git.png" width="16" height="16" title="modular_doppler/modular_powers/preferences/powers_middleware.dm 229"></a></aside></h3><p>Point Check</p>
<p>Checks the total point value of a user's learned powers.</p><h3 id="proc/remove_power"><aside class="declaration">proc </aside>remove_power<aside>(/list/params)  <a href="https://github.com/nikothedude/DopplerShift/blob/7beb23ee62b8ba67b65a0387e4f92f89e52e9d4a/modular_doppler/modular_powers/preferences/powers_middleware.dm#L158"><img src="git.png" width="16" height="16" title="modular_doppler/modular_powers/preferences/powers_middleware.dm 158"></a></aside></h3><p>Remove Power</p>
<p>Removes a power from a character using the params list provided by tgui. Recursively checks all learned powers for their root power, advanced power and required powers to make sure that they still pass all checks with said power removed.</p><h3 id="proc/required_check"><aside class="declaration">proc </aside>required_check<aside>(/<a href="datum.html">datum</a>/<a href="datum/power.html">power</a>/power_check)  <a href="https://github.com/nikothedude/DopplerShift/blob/7beb23ee62b8ba67b65a0387e4f92f89e52e9d4a/modular_doppler/modular_powers/preferences/powers_middleware.dm#L258"><img src="git.png" width="16" height="16" title="modular_doppler/modular_powers/preferences/powers_middleware.dm 258"></a></aside></h3><p>Required Powers Check</p>
<p>Cycles through a user's learned powers, and if that power is in the provided power's required_powers, increases the count by 1. If the count equals the length of the required_powers list, they have all the required powers, therefore the proc returns FALSE, meaning it passes. Otherwise, returns TRUE and fails.</p><h3 id="proc/root_check"><aside class="declaration">proc </aside>root_check<aside>(/<a href="datum.html">datum</a>/<a href="datum/power.html">power</a>/power_check)  <a href="https://github.com/nikothedude/DopplerShift/blob/7beb23ee62b8ba67b65a0387e4f92f89e52e9d4a/modular_doppler/modular_powers/preferences/powers_middleware.dm#L211"><img src="git.png" width="16" height="16" title="modular_doppler/modular_powers/preferences/powers_middleware.dm 211"></a></aside></h3><p>Root Check</p>
<p>Checks for a power's root power. If the power is a root power itself, the check immediately returns false, passing. If the power's root power is in the player's learned powers, it returns false, also passing. Otherwise, fails.</p></main><footer>tgstation.dme <a href="https://github.com/nikothedude/DopplerShift/tree/7beb23ee62b8ba67b65a0387e4f92f89e52e9d4a">7beb23e</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>